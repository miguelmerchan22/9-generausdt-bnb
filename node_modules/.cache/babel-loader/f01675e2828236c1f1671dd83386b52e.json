{"ast":null,"code":"import _regeneratorRuntime from \"/Users/miguelmerchan/Documents/GitHub/6-Leidy2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/miguelmerchan/Documents/GitHub/6-Leidy2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/miguelmerchan/Documents/GitHub/6-Leidy2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/miguelmerchan/Documents/GitHub/6-Leidy2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/miguelmerchan/Documents/GitHub/6-Leidy2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/miguelmerchan/Documents/GitHub/6-Leidy2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/miguelmerchan/Documents/GitHub/6-Leidy2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/miguelmerchan/Documents/GitHub/6-Leidy2/src/components/CrowdFunding/index.js\";\nimport React, { Component } from \"react\";\nimport Select from 'react-select';\nimport cons from \"../../cons.js\";\n\nvar CrowdFunding = /*#__PURE__*/function (_Component) {\n  _inherits(CrowdFunding, _Component);\n\n  var _super = _createSuper(CrowdFunding);\n\n  function CrowdFunding(props) {\n    var _this;\n\n    _classCallCheck(this, CrowdFunding);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      min: 100,\n      deposito: \"Loading...\",\n      balance: \"Loading...\",\n      accountAddress: \"Loading...\",\n      porcentaje: \"Loading...\",\n      dias: \"Loading...\",\n      partner: \"Loading...\",\n      balanceTRX: \"Loading...\",\n      balanceUSDT: \"Loading...\",\n      precioSITE: 1,\n      valueUSDT: 0,\n      hand: 0\n    };\n    _this.deposit = _this.deposit.bind(_assertThisInitialized(_this));\n    _this.estado = _this.estado.bind(_assertThisInitialized(_this));\n    _this.estado2 = _this.estado2.bind(_assertThisInitialized(_this));\n    _this.rateSITE = _this.rateSITE.bind(_assertThisInitialized(_this));\n    _this.handleChangeUSDT = _this.handleChangeUSDT.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(CrowdFunding, [{\n    key: \"handleChangeUSDT\",\n    value: function handleChangeUSDT(event) {\n      //console.log(event)\n      this.setState({\n        valueUSDT: event.value\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        var resultado;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(typeof window.ethereum !== 'undefined')) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _context.next = 3;\n                return window.ethereum.request({\n                  method: 'eth_requestAccounts'\n                });\n\n              case 3:\n                resultado = _context.sent;\n                console.log(resultado[0]);\n                this.setState({\n                  currentAccount: resultado[0],\n                  metamask: true,\n                  conectado: true\n                });\n\n              case 6:\n                this.estado();\n                setInterval(function () {\n                  return _this2.estado();\n                }, 3 * 1000);\n                setInterval(function () {\n                  return _this2.estado2();\n                }, 3 * 1000);\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"rateSITE\",\n    value: function () {\n      var _rateSITE = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", 1);\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function rateSITE() {\n        return _rateSITE.apply(this, arguments);\n      }\n\n      return rateSITE;\n    }()\n  }, {\n    key: \"estado\",\n    value: function () {\n      var _estado = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var inversors, options, datos, aprovado, top, index, precio, active;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.props.wallet.contractBinary.methods.investors(this.state.currentAccount).call({\n                  from: this.state.currentAccount\n                });\n\n              case 2:\n                inversors = _context3.sent;\n                options = [];\n                datos = {};\n                inversors.inicio = 1000;\n                _context3.next = 8;\n                return this.props.wallet.contractToken.methods.allowance(this.state.currentAccount, this.props.contractAddress).call({\n                  from: this.state.currentAccount\n                });\n\n              case 8:\n                aprovado = _context3.sent;\n\n                if (!(aprovado > 0)) {\n                  _context3.next = 26;\n                  break;\n                }\n\n                _context3.next = 12;\n                return this.props.wallet.contractBinary.methods.plansLength().call({\n                  from: this.state.currentAccount\n                });\n\n              case 12:\n                top = _context3.sent;\n                index = 0;\n\n              case 14:\n                if (!(index < top)) {\n                  _context3.next = 26;\n                  break;\n                }\n\n                _context3.next = 17;\n                return this.props.wallet.contractBinary.methods.plans(index).call({\n                  from: this.state.currentAccount\n                });\n\n              case 17:\n                precio = _context3.sent;\n                _context3.next = 20;\n                return this.props.wallet.contractBinary.methods.active(index).call({\n                  from: this.state.currentAccount\n                });\n\n              case 20:\n                active = _context3.sent;\n                precio = parseInt(precio) / Math.pow(10, 18);\n\n                if (precio > 0 && active && inversors.registered) {\n                  datos = {};\n                  datos.value = index;\n                  datos.label = precio + ' USDT';\n                  options[index] = datos;\n                }\n\n              case 23:\n                index++;\n                _context3.next = 14;\n                break;\n\n              case 26:\n                this.setState({\n                  options: options\n                });\n\n              case 27:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function estado() {\n        return _estado.apply(this, arguments);\n      }\n\n      return estado;\n    }()\n  }, {\n    key: \"estado2\",\n    value: function () {\n      var _estado2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        var accountAddress, inversors, inicio, fin, texto, nameToken1, aprovado, tiempo, porcentiempo, decimales, balance, valorPlan, partner, hand, loc, getString, GET, get, i, l, tmp, wallet, dias, porcentaje, decimals, balanceUSDT;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                accountAddress = this.state.currentAccount;\n                _context4.next = 3;\n                return this.props.wallet.contractBinary.methods.investors(this.state.currentAccount).call({\n                  from: this.state.currentAccount\n                });\n\n              case 3:\n                inversors = _context4.sent;\n                inicio = accountAddress.substr(0, 4);\n                fin = accountAddress.substr(-4);\n                texto = inicio + \"...\" + fin;\n                document.getElementById(\"contract\").innerHTML = '<a href=\"https://tronscan.org/#/contract/' + this.props.contractAddress + '/code\">Contract V ' + this.props.version + '</a>';\n                document.getElementById(\"login\").href = \"https://tronscan.io/#/address/\".concat(accountAddress);\n                document.getElementById(\"login-my-wallet\").innerHTML = texto;\n                _context4.next = 12;\n                return this.props.wallet.contractToken.methods.symbol().call({\n                  from: this.state.currentAccount\n                });\n\n              case 12:\n                nameToken1 = _context4.sent;\n                _context4.next = 15;\n                return this.props.wallet.contractToken.methods.allowance(accountAddress, this.props.contractAddress).call({\n                  from: this.state.currentAccount\n                });\n\n              case 15:\n                aprovado = _context4.sent;\n\n                //console.log(aprovado);\n                //console.log(aprovado);\n                if (aprovado > 0) {\n                  if (!inversors.registered) {\n                    aprovado = \"Register\";\n                  } else {\n                    aprovado = \"Buy Plan\";\n                  }\n                } else {\n                  aprovado = \"Allow wallet\";\n                }\n\n                inversors.inicio = 1000;\n                _context4.next = 20;\n                return this.props.wallet.contractBinary.methods.tiempo().call({\n                  from: this.state.currentAccount\n                });\n\n              case 20:\n                tiempo = _context4.sent;\n                tiempo = tiempo * 1000;\n                porcentiempo = (Date.now() - inversors.inicio) * 100 / tiempo;\n                _context4.next = 25;\n                return this.props.wallet.contractToken.methods.decimals().call({\n                  from: this.state.currentAccount\n                });\n\n              case 25:\n                decimales = _context4.sent;\n                _context4.next = 28;\n                return this.props.wallet.contractToken.methods.balanceOf(this.state.currentAccount).call({\n                  from: this.state.currentAccount\n                });\n\n              case 28:\n                balance = _context4.sent;\n                balance = balance / Math.pow(10, decimales);\n                valorPlan = 0;\n\n                if (porcentiempo < 100) {\n                  aprovado = \"Update Plan\";\n                  valorPlan = inversors.plan / Math.pow(10, 8);\n                }\n\n                partner = cons.WS;\n                hand = \"Left \";\n\n                if (!inversors.registered) {\n                  _context4.next = 40;\n                  break;\n                }\n\n                _context4.next = 37;\n                return this.props.wallet.contractBinary.methods.padre(this.state.currentAccount).call({\n                  from: this.state.currentAccount\n                });\n\n              case 37:\n                partner = _context4.sent;\n                _context4.next = 57;\n                break;\n\n              case 40:\n                loc = document.location.href;\n\n                if (!(loc.indexOf('?') > 0)) {\n                  _context4.next = 57;\n                  break;\n                }\n\n                getString = loc.split('?');\n                getString = getString[getString.length - 1]; //console.log(getString);\n\n                GET = getString.split('&');\n                get = {};\n\n                for (i = 0, l = GET.length; i < l; i++) {\n                  tmp = GET[i].split('=');\n                  get[tmp[0]] = unescape(decodeURI(tmp[1]));\n                }\n\n                if (get['hand']) {\n                  tmp = get['hand'].split('#'); //console.log(tmp);\n\n                  if (tmp[0] === \"right\") {\n                    hand = \"Rigth \";\n                  }\n                }\n\n                if (!get['ref']) {\n                  _context4.next = 57;\n                  break;\n                }\n\n                tmp = get['ref'].split('#'); //console.log(tmp[0]);\n\n                _context4.next = 52;\n                return this.props.wallet.contractBinary.methods.idToAddress(tmp[0]).call({\n                  from: this.state.currentAccount\n                });\n\n              case 52:\n                wallet = _context4.sent;\n                _context4.next = 55;\n                return this.props.wallet.contractBinary.methods.investors(wallet).call({\n                  from: this.state.currentAccount\n                });\n\n              case 55:\n                inversors = _context4.sent;\n\n                if (inversors.registered) {\n                  partner = \"team \" + hand + \" of \" + wallet;\n                }\n\n              case 57:\n                if (partner === \"T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb\") {\n                  partner = \"---------------------------------\";\n                }\n\n                dias = 365; //await Utils.contract.tiempo().call();\n                //var velocidad = await Utils.contract.velocidad().call();\n                //dias = (parseInt(dias)/86400)*velocidad;\n\n                _context4.next = 61;\n                return this.props.wallet.contractBinary.methods.porcent().call({\n                  from: this.state.currentAccount\n                });\n\n              case 61:\n                porcentaje = _context4.sent;\n                porcentaje = parseInt(porcentaje);\n                _context4.next = 65;\n                return this.props.wallet.contractToken.methods.decimals().call({\n                  from: this.state.currentAccount\n                });\n\n              case 65:\n                decimals = _context4.sent;\n                _context4.next = 68;\n                return this.props.wallet.contractToken.methods.balanceOf(this.state.currentAccount).call({\n                  from: this.state.currentAccount\n                });\n\n              case 68:\n                balanceUSDT = _context4.sent;\n                balanceUSDT = parseInt(balanceUSDT) / Math.pow(10, decimals);\n                this.setState({\n                  deposito: aprovado,\n                  balance: valorPlan,\n                  decimales: decimales,\n                  accountAddress: accountAddress,\n                  porcentaje: porcentaje,\n                  dias: dias,\n                  partner: partner,\n                  balanceSite: balance,\n                  balanceUSDT: balanceUSDT,\n                  nameToken1: nameToken1\n                });\n\n              case 71:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function estado2() {\n        return _estado2.apply(this, arguments);\n      }\n\n      return estado2;\n    }()\n  }, {\n    key: \"deposit\",\n    value: function () {\n      var _deposit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        var _this3 = this;\n\n        var _this$state, balanceSite, valueUSDT, balance, accountAddress, aprovado, amount, loc, sponsor, hand, investors, getString, GET, get, i, l, tmp, wallet, padre, reg, userWithdrable, MIN_RETIRO, despositos;\n\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _this$state = this.state, balanceSite = _this$state.balanceSite, valueUSDT = _this$state.valueUSDT, balance = _this$state.balance;\n                accountAddress = this.state.currentAccount;\n                _context5.next = 4;\n                return this.props.wallet.contractToken.methods.allowance(accountAddress, this.props.contractAddress).call({\n                  from: this.state.currentAccount\n                });\n\n              case 4:\n                aprovado = _context5.sent;\n\n                if (!(aprovado <= 0)) {\n                  _context5.next = 10;\n                  break;\n                }\n\n                _context5.next = 8;\n                return this.props.wallet.contractToken.methods.approve(this.props.contractAddress, \"115792089237316195423570985008687907853269984665640564039457584007913129639935\").send({\n                  from: this.state.currentAccount\n                });\n\n              case 8:\n                window.alert(\"Balance approval for exchange: successful\");\n                return _context5.abrupt(\"return\");\n\n              case 10:\n                _context5.next = 12;\n                return this.props.wallet.contractBinary.methods.plans(valueUSDT).call({\n                  from: this.state.currentAccount\n                });\n\n              case 12:\n                amount = _context5.sent;\n                amount = amount / Math.pow(10, 18);\n                amount = amount - balance;\n\n                if (!(aprovado > 0 && balanceSite >= amount)) {\n                  _context5.next = 84;\n                  break;\n                }\n\n                loc = document.location.href;\n                sponsor = cons.WS;\n                hand = 0;\n                _context5.next = 21;\n                return this.props.wallet.contractBinary.methods.investors(this.state.currentAccount).call({\n                  from: this.state.currentAccount\n                });\n\n              case 21:\n                investors = _context5.sent;\n\n                if (!investors.registered) {\n                  _context5.next = 28;\n                  break;\n                }\n\n                _context5.next = 25;\n                return this.props.wallet.contractBinary.methods.padre(this.state.currentAccount).call({\n                  from: this.state.currentAccount\n                });\n\n              case 25:\n                sponsor = _context5.sent;\n                _context5.next = 44;\n                break;\n\n              case 28:\n                if (!(loc.indexOf('?') > 0)) {\n                  _context5.next = 44;\n                  break;\n                }\n\n                getString = loc.split('?');\n                getString = getString[getString.length - 1]; //console.log(getString);\n\n                GET = getString.split('&');\n                get = {};\n\n                for (i = 0, l = GET.length; i < l; i++) {\n                  tmp = GET[i].split('=');\n                  get[tmp[0]] = unescape(decodeURI(tmp[1]));\n                }\n\n                if (get['hand']) {\n                  tmp = get['hand'].split('#');\n\n                  if (tmp[0] === \"right\") {\n                    hand = 1;\n                  }\n                }\n\n                if (!get['ref']) {\n                  _context5.next = 44;\n                  break;\n                }\n\n                tmp = get['ref'].split('#');\n                _context5.next = 39;\n                return this.props.wallet.contractBinary.methods.idToAddress(tmp[0]).call({\n                  from: this.state.currentAccount\n                });\n\n              case 39:\n                wallet = _context5.sent;\n                _context5.next = 42;\n                return this.props.wallet.contractBinary.methods.investors(wallet).call({\n                  from: this.state.currentAccount\n                });\n\n              case 42:\n                padre = _context5.sent;\n\n                if (padre.registered) {\n                  sponsor = wallet;\n                }\n\n              case 44:\n                if (investors.registered) {\n                  _context5.next = 48;\n                  break;\n                }\n\n                reg = this.props.wallet.contractBinary.methods.registro(sponsor, hand).send({\n                  from: this.state.currentAccount\n                });\n                reg.then(function () {\n                  return window.alert(\"congratulation registration: successful\");\n                });\n                return _context5.abrupt(\"return\");\n\n              case 48:\n                _context5.t0 = sponsor !== \"T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb\" && investors.registered;\n\n                if (!_context5.t0) {\n                  _context5.next = 53;\n                  break;\n                }\n\n                _context5.next = 52;\n                return this.props.wallet.contractBinary.methods.active(valueUSDT).call({\n                  from: this.state.currentAccount\n                });\n\n              case 52:\n                _context5.t0 = _context5.sent;\n\n              case 53:\n                if (!_context5.t0) {\n                  _context5.next = 74;\n                  break;\n                }\n\n                _context5.next = 56;\n                return this.props.wallet.contractBinary.methods.withdrawable(this.state.currentAccount).call({\n                  from: this.state.currentAccount\n                });\n\n              case 56:\n                userWithdrable = _context5.sent;\n                _context5.next = 59;\n                return this.props.wallet.contractBinary.methods.MIN_RETIRO().call({\n                  from: this.state.currentAccount\n                });\n\n              case 59:\n                MIN_RETIRO = _context5.sent;\n                _context5.next = 62;\n                return this.props.wallet.contractBinary.methods.depositos(this.state.currentAccount).call({\n                  from: this.state.currentAccount\n                });\n\n              case 62:\n                despositos = _context5.sent;\n\n                if (!(userWithdrable >= MIN_RETIRO && despositos[0].length !== 0)) {\n                  _context5.next = 71;\n                  break;\n                }\n\n                if (!window.confirm(\"Realizar el retiro de su disponible, para continuar\")) {\n                  _context5.next = 68;\n                  break;\n                }\n\n                this.props.wallet.contractBinary.methods.withdraw().send({\n                  from: this.state.currentAccount\n                }).then(function () {\n                  _this3.props.wallet.contractBinary.methods.buyPlan(valueUSDT).send({\n                    from: _this3.state.currentAccount\n                  }).then(function () {\n                    window.alert(\"Felicidades inversión exitosa\");\n                    document.getElementById(\"services\").scrollIntoView({\n                      block: \"start\",\n                      behavior: \"smooth\"\n                    });\n                  });\n                });\n                _context5.next = 69;\n                break;\n\n              case 68:\n                return _context5.abrupt(\"return\");\n\n              case 69:\n                _context5.next = 72;\n                break;\n\n              case 71:\n                if (despositos[0].length === 0) {\n                  this.props.wallet.contractBinary.methods.buyPlan(valueUSDT).send({\n                    from: this.state.currentAccount\n                  }).then(function () {\n                    window.alert(\"Felicidades inversión exitosa\");\n                    document.getElementById(\"services\").scrollIntoView({\n                      block: \"start\",\n                      behavior: \"smooth\"\n                    });\n                  });\n                } else {\n                  window.alert(\"Try again Latter\");\n                }\n\n              case 72:\n                _context5.next = 82;\n                break;\n\n              case 74:\n                _context5.next = 76;\n                return this.props.wallet.contractBinary.methods.active(valueUSDT).call({\n                  from: this.state.currentAccount\n                });\n\n              case 76:\n                _context5.t1 = _context5.sent;\n\n                if (!(_context5.t1 === false)) {\n                  _context5.next = 81;\n                  break;\n                }\n\n                window.alert(\"Please select an active plan\");\n                _context5.next = 82;\n                break;\n\n              case 81:\n                window.alert(\"Please use referral link to buy a plan\");\n\n              case 82:\n                _context5.next = 85;\n                break;\n\n              case 84:\n                if (balanceSite < amount) {\n                  window.alert(\"You do not have enough balance, you need: \" + amount + \" USDT and in your wallet you have: \" + balanceSite);\n                }\n\n              case 85:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function deposit() {\n        return _deposit.apply(this, arguments);\n      }\n\n      return deposit;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var options = this.state.options;\n      var segundoToken = /*#__PURE__*/React.createElement(React.Fragment, null);\n\n      if (this.state.nameToken1 !== this.state.nameToken2) {\n        segundoToken = /*#__PURE__*/React.createElement(React.Fragment, null, this.state.nameToken2, \": \", /*#__PURE__*/React.createElement(\"strong\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 49\n          }\n        }, (this.state.balanceUSDT * 1).toFixed(6)), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 105\n          }\n        }));\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card wow bounceInUp text-center col-md-7\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"card-title\",\n        id: \"contract\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 11\n        }\n      }, \"Contract V \", this.props.version), /*#__PURE__*/React.createElement(\"table\", {\n        className: \"table borderless\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-check-circle-o text-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 19\n        }\n      }), \"ROI \"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 81\n        }\n      }, this.state.porcentaje, \"%\")), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-check-circle-o text-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 19\n        }\n      }), \"Earn\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 81\n        }\n      }, this.state.porcentaje - 100, \"%\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 11\n        }\n      }, \"Wallet\", /*#__PURE__*/React.createElement(\"p\", {\n        className: \"card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 13\n        }\n      }, this.state.accountAddress), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 57\n        }\n      })), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"card-text \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 11\n        }\n      }, this.state.nameToken1, \": \", /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 38\n        }\n      }, this.state.balanceSite), \" ($\", (this.state.balanceSite * this.state.precioSITE).toFixed(2), \")\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 142\n        }\n      }), \"TRX: \", /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 18\n        }\n      }, (this.state.balanceTRX * 1).toFixed(6)), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 73\n        }\n      }), segundoToken), /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 11\n        }\n      }, \"Plan Staking\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group sm-3 text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Select, {\n        options: options,\n        onChange: this.handleChangeUSDT,\n        className: \"form-control mb-20 h-auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 13\n        }\n      }, \"At least 150 TRX to make any transactions\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 13\n        }\n      }, \"Partner:\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 46\n        }\n      }), /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 13\n        }\n      }, this.state.partner)), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-lg btn-success\",\n        onClick: function onClick() {\n          return _this4.deposit();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 13\n        }\n      }, this.state.deposito))));\n    }\n  }]);\n\n  return CrowdFunding;\n}(Component);\n\nexport { CrowdFunding as default };","map":{"version":3,"sources":["/Users/miguelmerchan/Documents/GitHub/6-Leidy2/src/components/CrowdFunding/index.js"],"names":["React","Component","Select","cons","CrowdFunding","props","state","min","deposito","balance","accountAddress","porcentaje","dias","partner","balanceTRX","balanceUSDT","precioSITE","valueUSDT","hand","deposit","bind","estado","estado2","rateSITE","handleChangeUSDT","event","setState","value","window","ethereum","request","method","resultado","console","log","currentAccount","metamask","conectado","setInterval","wallet","contractBinary","methods","investors","call","from","inversors","options","datos","inicio","contractToken","allowance","contractAddress","aprovado","plansLength","top","index","plans","precio","active","parseInt","registered","label","substr","fin","texto","document","getElementById","innerHTML","version","href","symbol","nameToken1","tiempo","porcentiempo","Date","now","decimals","decimales","balanceOf","valorPlan","plan","WS","padre","loc","location","indexOf","getString","split","length","GET","get","i","l","tmp","unescape","decodeURI","idToAddress","porcent","balanceSite","approve","send","alert","amount","sponsor","reg","registro","then","withdrawable","userWithdrable","MIN_RETIRO","depositos","despositos","confirm","withdraw","buyPlan","scrollIntoView","block","behavior","segundoToken","nameToken2","toFixed"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Select from 'react-select'\n\nimport cons from \"../../cons.js\";\n\nexport default class CrowdFunding extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n\n      min: 100,\n      deposito: \"Loading...\",\n      balance: \"Loading...\",\n      accountAddress: \"Loading...\",\n      porcentaje: \"Loading...\",\n      dias: \"Loading...\",\n      partner: \"Loading...\",\n      balanceTRX: \"Loading...\",\n      balanceUSDT: \"Loading...\",\n      precioSITE: 1,\n      valueUSDT: 0,\n      hand: 0\n\n    };\n\n    this.deposit = this.deposit.bind(this);\n    this.estado = this.estado.bind(this);\n    this.estado2 = this.estado2.bind(this);\n\n    this.rateSITE = this.rateSITE.bind(this);\n    this.handleChangeUSDT = this.handleChangeUSDT.bind(this);\n  }\n\n  handleChangeUSDT(event) {\n    //console.log(event)\n    this.setState({valueUSDT: event.value});\n  }\n\n  async componentDidMount() {\n    if (typeof window.ethereum !== 'undefined') {           \n      var resultado = await window.ethereum.request({ method: 'eth_requestAccounts' });\n        console.log(resultado[0]);\n        this.setState({\n          currentAccount: resultado[0],\n          metamask: true,\n          conectado: true\n        })\n\n    }\n    this.estado();\n    setInterval(() => this.estado(),3*1000);\n    setInterval(() => this.estado2(),3*1000);\n    \n  };\n\n  async rateSITE(){\n    /*\n    var proxyUrl = cons.proxy;\n    var apiUrl = cons.PRE;\n    var response;\n\n    try {\n      response = await fetch(proxyUrl+apiUrl);\n    } catch (err) {\n      console.log(err);\n      return this.state.precioSITE;\n    }\n\n    var json = await response.json();\n\n    this.setState({\n      precioSITE: json.Data.precio\n    });\n\n    return json.Data.precio;*/\n\n    return 1;\n\n  };\n\n  async estado(){\n\n    //console.log(this.props.wallet);\n\n    var inversors = await this.props.wallet.contractBinary.methods.investors(this.state.currentAccount).call({from:this.state.currentAccount});\n\n    var options = [];\n\n    var datos = {};\n\n    inversors.inicio = 1000;\n\n    var aprovado = await this.props.wallet.contractToken.methods.allowance(this.state.currentAccount,this.props.contractAddress).call({from:this.state.currentAccount});\n    \n\n    if (aprovado > 0) {\n\n      var top = await this.props.wallet.contractBinary.methods.plansLength().call({from:this.state.currentAccount});\n\n      for (let index = 0; index < top; index++) {\n        var precio = await this.props.wallet.contractBinary.methods.plans(index).call({from:this.state.currentAccount});\n        var active = await this.props.wallet.contractBinary.methods.active(index).call({from:this.state.currentAccount});\n        precio = parseInt(precio)/10**18;\n        if( precio > 0 && active && inversors.registered){\n          datos = {};\n          datos.value = index;\n          datos.label = precio+' USDT';\n          options[index] = datos;\n\n        }\n        \n        \n      }\n    }\n\n    this.setState({\n      options: options\n    });\n\n  }\n\n  async estado2(){\n\n    var accountAddress =  this.state.currentAccount;\n    var inversors = await this.props.wallet.contractBinary.methods.investors(this.state.currentAccount).call({from:this.state.currentAccount});\n\n    var inicio = accountAddress.substr(0,4);\n    var fin = accountAddress.substr(-4);\n\n    var texto = inicio+\"...\"+fin;\n\n    document.getElementById(\"contract\").innerHTML = '<a href=\"https://tronscan.org/#/contract/'+this.props.contractAddress+'/code\">Contract V '+this.props.version+'</a>';\n    document.getElementById(\"login\").href = `https://tronscan.io/#/address/${accountAddress}`;\n    document.getElementById(\"login-my-wallet\").innerHTML = texto;\n\n    var nameToken1 = await this.props.wallet.contractToken.methods.symbol().call({from:this.state.currentAccount});\n\n    //console.log(nameToken1);\n\n    var aprovado = await this.props.wallet.contractToken.methods.allowance(accountAddress,this.props.contractAddress).call({from:this.state.currentAccount});\n    //console.log(aprovado);\n\n    //console.log(aprovado);\n\n    if (aprovado > 0) {\n      if(!inversors.registered){\n        aprovado = \"Register\";\n      }else{\n        aprovado = \"Buy Plan\";\n      }\n      \n    }else{\n      aprovado = \"Allow wallet\";\n    }\n\n    inversors.inicio = 1000;\n    \n    var tiempo = await this.props.wallet.contractBinary.methods.tiempo().call({from:this.state.currentAccount});\n\n    tiempo = tiempo*1000;\n\n    var porcentiempo = ((Date.now()-inversors.inicio)*100)/tiempo;\n\n    var decimales = await this.props.wallet.contractToken.methods.decimals().call({from:this.state.currentAccount});\n\n    var balance = await this.props.wallet.contractToken.methods.balanceOf(this.state.currentAccount).call({from:this.state.currentAccount});\n\n    balance = balance/10**decimales;\n\n    var valorPlan = 0;\n\n    if( porcentiempo < 100 ){\n      aprovado = \"Update Plan\";\n\n      valorPlan = inversors.plan/10**8;\n      \n    }\n\n    var partner = cons.WS;\n\n    var hand = \"Left \";\n\n    if ( inversors.registered ) {\n      partner = await this.props.wallet.contractBinary.methods.padre(this.state.currentAccount).call({from:this.state.currentAccount});\n\n    }else{\n\n      var loc = document.location.href;\n      if(loc.indexOf('?')>0){\n          var getString = loc.split('?');\n          getString = getString[getString.length-1];\n          //console.log(getString);\n          var GET = getString.split('&');\n          var get = {};\n          for(var i = 0, l = GET.length; i < l; i++){\n              var tmp = GET[i].split('=');\n              get[tmp[0]] = unescape(decodeURI(tmp[1]));\n          }\n\n          if (get['hand']){\n            tmp = get['hand'].split('#');\n\n            //console.log(tmp);\n\n            if (tmp[0] === \"right\") {\n              hand = \"Rigth \";\n            }\n          }\n\n          if (get['ref']) {\n            tmp = get['ref'].split('#');\n\n            //console.log(tmp[0]);\n\n            var wallet = await this.props.wallet.contractBinary.methods.idToAddress(tmp[0]).call({from:this.state.currentAccount});\n\n            inversors = await this.props.wallet.contractBinary.methods.investors(wallet).call({from:this.state.currentAccount});\n\n            if ( inversors.registered ) {\n              partner = \"team \"+hand+\" of \"+wallet;\n            }\n          }\n\n          \n      }\n\n    }\n\n    if(partner === \"T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb\"){\n      partner = \"---------------------------------\";\n    }\n    \n\n    var dias = 365;//await Utils.contract.tiempo().call();\n\n    //var velocidad = await Utils.contract.velocidad().call();\n\n    //dias = (parseInt(dias)/86400)*velocidad;\n\n    var porcentaje = await this.props.wallet.contractBinary.methods.porcent().call({from:this.state.currentAccount});\n\n    porcentaje = parseInt(porcentaje);\n\n    var decimals = await this.props.wallet.contractToken.methods.decimals().call({from:this.state.currentAccount});\n\n    var balanceUSDT = await this.props.wallet.contractToken.methods.balanceOf(this.state.currentAccount).call({from:this.state.currentAccount});\n\n    balanceUSDT = parseInt(balanceUSDT)/10**decimals;\n\n    this.setState({\n      deposito: aprovado,\n      balance: valorPlan,\n      decimales: decimales,\n      accountAddress: accountAddress,\n      porcentaje: porcentaje,\n      dias: dias,\n      partner: partner,\n      balanceSite: balance,\n      balanceUSDT: balanceUSDT,\n      nameToken1: nameToken1\n    });\n  }\n\n\n  async deposit() {\n\n    var { balanceSite, valueUSDT , balance} = this.state;\n\n    var accountAddress =  this.state.currentAccount;\n\n    var aprovado = await this.props.wallet.contractToken.methods.allowance(accountAddress,this.props.contractAddress).call({from:this.state.currentAccount});\n\n    if (aprovado <= 0 ){\n      await this.props.wallet.contractToken.methods.approve(this.props.contractAddress, \"115792089237316195423570985008687907853269984665640564039457584007913129639935\").send({from:this.state.currentAccount});\n      window.alert(\"Balance approval for exchange: successful\");\n      return;\n    }\n\n    var amount = await this.props.wallet.contractBinary.methods.plans(valueUSDT).call({from:this.state.currentAccount});\n    amount = amount/10**18;\n    amount = amount-balance;\n\n    if ( aprovado > 0 && \n      balanceSite >= amount \n      ){\n\n        var loc = document.location.href;\n        var sponsor = cons.WS;\n        var hand = 0;\n        var investors = await this.props.wallet.contractBinary.methods.investors(this.state.currentAccount).call({from:this.state.currentAccount});\n\n        if (investors.registered) {\n\n          sponsor = await this.props.wallet.contractBinary.methods.padre(this.state.currentAccount).call({from:this.state.currentAccount});\n\n        }else{\n\n          if(loc.indexOf('?')>0){\n            var getString = loc.split('?');\n            getString = getString[getString.length-1];\n            //console.log(getString);\n            var GET = getString.split('&');\n            var get = {};\n            for(var i = 0, l = GET.length; i < l; i++){\n                var tmp = GET[i].split('=');\n                get[tmp[0]] = unescape(decodeURI(tmp[1]));\n            }\n\n            if (get['hand']){\n              \n              tmp = get['hand'].split('#');\n  \n              if (tmp[0] === \"right\") {\n                hand = 1;\n              }\n            }\n\n            if (get['ref']) {\n              tmp = get['ref'].split('#');\n\n              var wallet = await this.props.wallet.contractBinary.methods.idToAddress(tmp[0]).call({from:this.state.currentAccount});\n\n              var padre = await this.props.wallet.contractBinary.methods.investors(wallet).call({from:this.state.currentAccount});\n\n              if ( padre.registered ) {\n                sponsor = wallet;\n              }\n            }\n\n          }\n          \n        }\n\n        if(!investors.registered){\n          var reg = this.props.wallet.contractBinary.methods.registro(sponsor, hand).send({from:this.state.currentAccount});\n          reg.then(() => window.alert(\"congratulation registration: successful\"));\n          return;\n        }\n\n        if(sponsor !== \"T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb\" && investors.registered && await this.props.wallet.contractBinary.methods.active(valueUSDT).call({from:this.state.currentAccount}) ){\n        \n          var userWithdrable = await this.props.wallet.contractBinary.methods.withdrawable(this.state.currentAccount).call({from:this.state.currentAccount});\n          var MIN_RETIRO = await this.props.wallet.contractBinary.methods.MIN_RETIRO().call({from:this.state.currentAccount});\n\n          var despositos = await this.props.wallet.contractBinary.methods.depositos(this.state.currentAccount).call({from:this.state.currentAccount});\n\n          if (userWithdrable >= MIN_RETIRO && despositos[0].length !== 0){\n            if(window.confirm(\"Realizar el retiro de su disponible, para continuar\")){\n              this.props.wallet.contractBinary.methods.withdraw().send({from:this.state.currentAccount})\n              .then(() => {\n                this.props.wallet.contractBinary.methods.buyPlan(valueUSDT).send({from:this.state.currentAccount})\n                .then(() => {\n                  window.alert(\"Felicidades inversión exitosa\");\n                  document.getElementById(\"services\").scrollIntoView({block: \"start\", behavior: \"smooth\"});\n                })\n\n              })\n\n              \n            }else{\n              return;\n            }\n          \n          }else{\n            if(despositos[0].length === 0){\n              this.props.wallet.contractBinary.methods.buyPlan(valueUSDT).send({from:this.state.currentAccount})\n              .then(() => {\n                window.alert(\"Felicidades inversión exitosa\");\n                document.getElementById(\"services\").scrollIntoView({block: \"start\", behavior: \"smooth\"})\n              });\n  \n            }else{\n              window.alert(\"Try again Latter\")\n            }\n\n          }\n          \n        }else{\n          if (await this.props.wallet.contractBinary.methods.active(valueUSDT).call({from:this.state.currentAccount}) === false) {\n            window.alert(\"Please select an active plan\");\n          } else {\n            window.alert(\"Please use referral link to buy a plan\");\n          }\n\n          \n        }\n          \n    }else{\n\n\n      if ( balanceSite < amount ) {\n\n        window.alert(\"You do not have enough balance, you need: \"+amount+\" USDT and in your wallet you have: \"+balanceSite);\n      }\n\n      \n    }\n\n\n  };\n\n  render() {\n\n    var {options} = this.state;\n\n    var segundoToken = <></>;\n\n    if (this.state.nameToken1 !== this.state.nameToken2) {\n      segundoToken = <>{this.state.nameToken2}: <strong>{(this.state.balanceUSDT*1).toFixed(6)}</strong><br /></> ;\n    }\n    \n    return (\n      <div className=\"card wow bounceInUp text-center col-md-7\" >\n        <div className=\"card-body\">\n          <h5 className=\"card-title\" id=\"contract\" >Contract V {this.props.version}</h5>\n\n          <table className=\"table borderless\">\n            <tbody>\n            <tr>\n              <td><i className=\"fa fa-check-circle-o text-success\"></i>ROI </td><td>{this.state.porcentaje}%</td>\n            </tr>\n            <tr>\n              <td><i className=\"fa fa-check-circle-o text-success\"></i>Earn</td><td>{(this.state.porcentaje)-100}%</td>\n            </tr>\n            </tbody>\n          </table>\n\n          <div className=\"form-group\">Wallet\n          <p className=\"card-text\">\n            <strong>{this.state.accountAddress}</strong><br />\n          </p>\n          <p className=\"card-text \">\n        \n            {this.state.nameToken1}: <strong>{this.state.balanceSite}</strong> (${(this.state.balanceSite*this.state.precioSITE).toFixed(2)})<br />\n            TRX: <strong>{(this.state.balanceTRX*1).toFixed(6)}</strong><br />\n            {segundoToken}\n          </p>\n\n          <h4>Plan Staking</h4>\n          <div className=\"input-group sm-3 text-center\">\n            <Select options={options}  onChange={this.handleChangeUSDT} className=\"form-control mb-20 h-auto\" />\n          </div>\n\n            <p className=\"card-text\">At least 150 TRX to make any transactions</p>\n            <p className=\"card-text\">Partner:<br />\n            <strong>{this.state.partner}</strong></p>\n\n            <button className=\"btn btn-lg btn-success\" onClick={() => this.deposit()}>{this.state.deposito}</button>\n\n          </div>\n\n        </div>\n      </div>\n\n\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}