{"ast":null,"code":"import _regeneratorRuntime from\"/Users/miguelmerchan/Documents/GitHub/6-Leidy2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/miguelmerchan/Documents/GitHub/6-Leidy2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/miguelmerchan/Documents/GitHub/6-Leidy2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/miguelmerchan/Documents/GitHub/6-Leidy2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/miguelmerchan/Documents/GitHub/6-Leidy2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/miguelmerchan/Documents/GitHub/6-Leidy2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/miguelmerchan/Documents/GitHub/6-Leidy2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Select from'react-select';import cons from\"../../cons.js\";var CrowdFunding=/*#__PURE__*/function(_Component){_inherits(CrowdFunding,_Component);var _super=_createSuper(CrowdFunding);function CrowdFunding(props){var _this;_classCallCheck(this,CrowdFunding);_this=_super.call(this,props);_this.state={min:100,deposito:\"Loading...\",balance:\"Loading...\",accountAddress:\"Loading...\",porcentaje:\"Loading...\",dias:\"Loading...\",partner:\"Loading...\",balanceTRX:\"Loading...\",balanceUSDT:\"Loading...\",precioSITE:1,valueUSDT:0,hand:0};_this.deposit=_this.deposit.bind(_assertThisInitialized(_this));_this.estado=_this.estado.bind(_assertThisInitialized(_this));_this.estado2=_this.estado2.bind(_assertThisInitialized(_this));_this.rateSITE=_this.rateSITE.bind(_assertThisInitialized(_this));_this.handleChangeUSDT=_this.handleChangeUSDT.bind(_assertThisInitialized(_this));return _this;}_createClass(CrowdFunding,[{key:\"handleChangeUSDT\",value:function handleChangeUSDT(event){//console.log(event)\nthis.setState({valueUSDT:event.value});}},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this2=this;var resultado;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(typeof window.ethereum!=='undefined')){_context2.next=6;break;}_context2.next=3;return window.ethereum.request({method:'eth_requestAccounts'});case 3:resultado=_context2.sent;console.log(resultado[0]);this.setState({currentAccount:resultado[0]});case 6:setInterval(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var resultado;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(typeof window.ethereum!=='undefined')){_context.next=6;break;}_context.next=3;return window.ethereum.request({method:'eth_requestAccounts'});case 3:resultado=_context.sent;console.log(resultado[0]);_this2.setState({currentAccount:resultado[0]});case 6:case\"end\":return _context.stop();}}},_callee);})),3*1000);this.estado();setInterval(function(){return _this2.estado();},3*1000);setInterval(function(){return _this2.estado2();},3*1000);case 10:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"rateSITE\",value:function(){var _rateSITE=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:return _context3.abrupt(\"return\",1);case 1:case\"end\":return _context3.stop();}}},_callee3);}));function rateSITE(){return _rateSITE.apply(this,arguments);}return rateSITE;}()},{key:\"estado\",value:function(){var _estado=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var inversors,options,datos,aprovado,top,index,precio,active;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return this.props.wallet.contractBinary.methods.investors(this.state.currentAccount).call({from:this.state.currentAccount});case 2:inversors=_context4.sent;options=[];datos={};inversors.inicio=1000;_context4.next=8;return this.props.wallet.contractToken.methods.allowance(this.state.currentAccount,this.props.contractAddress).call({from:this.state.currentAccount});case 8:aprovado=_context4.sent;if(!(aprovado>0)){_context4.next=26;break;}_context4.next=12;return this.props.wallet.contractBinary.methods.plansLength().call({from:this.state.currentAccount});case 12:top=_context4.sent;index=0;case 14:if(!(index<top)){_context4.next=26;break;}_context4.next=17;return this.props.wallet.contractBinary.methods.plans(index).call({from:this.state.currentAccount});case 17:precio=_context4.sent;_context4.next=20;return this.props.wallet.contractBinary.methods.active(index).call({from:this.state.currentAccount});case 20:active=_context4.sent;precio=parseInt(precio)/Math.pow(10,18);if(precio>0&&active&&inversors.registered){datos={};datos.value=index;datos.label=precio+' USDT';options[index]=datos;}case 23:index++;_context4.next=14;break;case 26:this.setState({options:options});case 27:case\"end\":return _context4.stop();}}},_callee4,this);}));function estado(){return _estado.apply(this,arguments);}return estado;}()},{key:\"estado2\",value:function(){var _estado2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var accountAddress,inversors,inicio,fin,texto,nameToken1,aprovado,tiempo,porcentiempo,decimales,balance,valorPlan,partner,hand,loc,getString,GET,get,i,l,tmp,wallet,dias,porcentaje,decimals,balanceUSDT;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:accountAddress=this.state.currentAccount;_context5.next=3;return this.props.wallet.contractBinary.methods.investors(this.state.currentAccount).call({from:this.state.currentAccount});case 3:inversors=_context5.sent;inicio=accountAddress.substr(0,4);fin=accountAddress.substr(-4);texto=inicio+\"...\"+fin;document.getElementById(\"contract\").innerHTML='<a href=\"https://bscscan.com/address/'+this.props.contractAddress+'\">Contract V '+this.props.version+'</a>';document.getElementById(\"login\").href=\"https://bscscan.com/address/\".concat(accountAddress);document.getElementById(\"login-my-wallet\").innerHTML=texto;_context5.next=12;return this.props.wallet.contractToken.methods.symbol().call({from:this.state.currentAccount});case 12:nameToken1=_context5.sent;_context5.next=15;return this.props.wallet.contractToken.methods.allowance(accountAddress,this.props.contractAddress).call({from:this.state.currentAccount});case 15:aprovado=_context5.sent;//console.log(aprovado);\n//console.log(aprovado);\nif(aprovado>0){if(!inversors.registered){aprovado=\"Register\";}else{aprovado=\"Buy Plan\";}}else{aprovado=\"Allow wallet\";}inversors.inicio=1000;_context5.next=20;return this.props.wallet.contractBinary.methods.tiempo().call({from:this.state.currentAccount});case 20:tiempo=_context5.sent;tiempo=tiempo*1000;porcentiempo=(Date.now()-inversors.inicio)*100/tiempo;_context5.next=25;return this.props.wallet.contractToken.methods.decimals().call({from:this.state.currentAccount});case 25:decimales=_context5.sent;_context5.next=28;return this.props.wallet.contractToken.methods.balanceOf(this.state.currentAccount).call({from:this.state.currentAccount});case 28:balance=_context5.sent;balance=balance/Math.pow(10,decimales);valorPlan=0;if(porcentiempo<100){aprovado=\"Update Plan\";valorPlan=inversors.plan/Math.pow(10,8);}partner=cons.WS;hand=\"Left \";if(!inversors.registered){_context5.next=40;break;}_context5.next=37;return this.props.wallet.contractBinary.methods.padre(this.state.currentAccount).call({from:this.state.currentAccount});case 37:partner=_context5.sent;_context5.next=57;break;case 40:loc=document.location.href;if(!(loc.indexOf('?')>0)){_context5.next=57;break;}getString=loc.split('?');getString=getString[getString.length-1];//console.log(getString);\nGET=getString.split('&');get={};for(i=0,l=GET.length;i<l;i++){tmp=GET[i].split('=');get[tmp[0]]=unescape(decodeURI(tmp[1]));}if(get['hand']){tmp=get['hand'].split('#');//console.log(tmp);\nif(tmp[0]===\"right\"){hand=\"Rigth \";}}if(!get['ref']){_context5.next=57;break;}tmp=get['ref'].split('#');//console.log(tmp[0]);\n_context5.next=52;return this.props.wallet.contractBinary.methods.idToAddress(tmp[0]).call({from:this.state.currentAccount});case 52:wallet=_context5.sent;_context5.next=55;return this.props.wallet.contractBinary.methods.investors(wallet).call({from:this.state.currentAccount});case 55:inversors=_context5.sent;if(inversors.registered){partner=\"team \"+hand+\" of \"+wallet;}case 57:if(partner===\"0x0000000000000000000000000000000000000000\"){partner=\"---------------------------------\";}dias=365;//await Utils.contract.tiempo().call();\n//var velocidad = await Utils.contract.velocidad().call();\n//dias = (parseInt(dias)/86400)*velocidad;\n_context5.next=61;return this.props.wallet.contractBinary.methods.porcent().call({from:this.state.currentAccount});case 61:porcentaje=_context5.sent;porcentaje=parseInt(porcentaje);_context5.next=65;return this.props.wallet.contractToken.methods.decimals().call({from:this.state.currentAccount});case 65:decimals=_context5.sent;_context5.next=68;return this.props.wallet.contractToken.methods.balanceOf(this.state.currentAccount).call({from:this.state.currentAccount});case 68:balanceUSDT=_context5.sent;balanceUSDT=parseInt(balanceUSDT)/Math.pow(10,decimals);this.setState({deposito:aprovado,balance:valorPlan,decimales:decimales,accountAddress:accountAddress,porcentaje:porcentaje,dias:dias,partner:partner,balanceSite:balance,balanceUSDT:balanceUSDT,nameToken1:nameToken1});case 71:case\"end\":return _context5.stop();}}},_callee5,this);}));function estado2(){return _estado2.apply(this,arguments);}return estado2;}()},{key:\"deposit\",value:function(){var _deposit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var _this3=this;var _this$state,balanceSite,valueUSDT,balance,accountAddress,aprovado,amount,loc,sponsor,hand,investors,getString,GET,get,i,l,tmp,wallet,padre,reg,userWithdrable,MIN_RETIRO,despositos;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_this$state=this.state,balanceSite=_this$state.balanceSite,valueUSDT=_this$state.valueUSDT,balance=_this$state.balance;accountAddress=this.state.currentAccount;_context6.next=4;return this.props.wallet.contractToken.methods.allowance(accountAddress,this.props.contractAddress).call({from:this.state.currentAccount});case 4:aprovado=_context6.sent;if(!(aprovado<=0)){_context6.next=10;break;}_context6.next=8;return this.props.wallet.contractToken.methods.approve(this.props.contractAddress,\"115792089237316195423570985008687907853269984665640564039457584007913129639935\").send({from:this.state.currentAccount});case 8:window.alert(\"Balance approval for exchange: successful\");return _context6.abrupt(\"return\");case 10:_context6.next=12;return this.props.wallet.contractBinary.methods.plans(valueUSDT).call({from:this.state.currentAccount});case 12:amount=_context6.sent;amount=amount/Math.pow(10,18);amount=amount-balance;if(!(aprovado>0&&balanceSite>=amount)){_context6.next=84;break;}loc=document.location.href;sponsor=cons.WS;hand=0;_context6.next=21;return this.props.wallet.contractBinary.methods.investors(this.state.currentAccount).call({from:this.state.currentAccount});case 21:investors=_context6.sent;if(!investors.registered){_context6.next=28;break;}_context6.next=25;return this.props.wallet.contractBinary.methods.padre(this.state.currentAccount).call({from:this.state.currentAccount});case 25:sponsor=_context6.sent;_context6.next=44;break;case 28:if(!(loc.indexOf('?')>0)){_context6.next=44;break;}getString=loc.split('?');getString=getString[getString.length-1];//console.log(getString);\nGET=getString.split('&');get={};for(i=0,l=GET.length;i<l;i++){tmp=GET[i].split('=');get[tmp[0]]=unescape(decodeURI(tmp[1]));}if(get['hand']){tmp=get['hand'].split('#');if(tmp[0]===\"right\"){hand=1;}}if(!get['ref']){_context6.next=44;break;}tmp=get['ref'].split('#');_context6.next=39;return this.props.wallet.contractBinary.methods.idToAddress(tmp[0]).call({from:this.state.currentAccount});case 39:wallet=_context6.sent;_context6.next=42;return this.props.wallet.contractBinary.methods.investors(wallet).call({from:this.state.currentAccount});case 42:padre=_context6.sent;if(padre.registered){sponsor=wallet;}case 44:if(investors.registered){_context6.next=48;break;}reg=this.props.wallet.contractBinary.methods.registro(sponsor,hand).send({from:this.state.currentAccount});reg.then(function(){return window.alert(\"congratulation registration: successful\");});return _context6.abrupt(\"return\");case 48:_context6.t0=sponsor!==\"0x0000000000000000000000000000000000000000\"&&investors.registered;if(!_context6.t0){_context6.next=53;break;}_context6.next=52;return this.props.wallet.contractBinary.methods.active(valueUSDT).call({from:this.state.currentAccount});case 52:_context6.t0=_context6.sent;case 53:if(!_context6.t0){_context6.next=74;break;}_context6.next=56;return this.props.wallet.contractBinary.methods.withdrawable(this.state.currentAccount).call({from:this.state.currentAccount});case 56:userWithdrable=_context6.sent;_context6.next=59;return this.props.wallet.contractBinary.methods.MIN_RETIRO().call({from:this.state.currentAccount});case 59:MIN_RETIRO=_context6.sent;_context6.next=62;return this.props.wallet.contractBinary.methods.depositos(this.state.currentAccount).call({from:this.state.currentAccount});case 62:despositos=_context6.sent;if(!(userWithdrable/Math.pow(10,18)>=MIN_RETIRO/Math.pow(10,18)&&despositos[0].length!==0)){_context6.next=71;break;}if(!window.confirm(\"Realizar el retiro de su disponible, para continuar\")){_context6.next=68;break;}this.props.wallet.contractBinary.methods.withdraw().send({from:this.state.currentAccount}).then(function(){_this3.props.wallet.contractBinary.methods.buyPlan(valueUSDT).send({from:_this3.state.currentAccount}).then(function(){window.alert(\"Felicidades inversi贸n exitosa\");document.getElementById(\"services\").scrollIntoView({block:\"start\",behavior:\"smooth\"});});});_context6.next=69;break;case 68:return _context6.abrupt(\"return\");case 69:_context6.next=72;break;case 71:this.props.wallet.contractBinary.methods.buyPlan(valueUSDT).send({from:this.state.currentAccount}).then(function(){window.alert(\"Felicidades inversi贸n exitosa\");document.getElementById(\"services\").scrollIntoView({block:\"start\",behavior:\"smooth\"});});case 72:_context6.next=82;break;case 74:_context6.next=76;return this.props.wallet.contractBinary.methods.active(valueUSDT).call({from:this.state.currentAccount});case 76:_context6.t1=_context6.sent;if(!(_context6.t1===false)){_context6.next=81;break;}window.alert(\"Please select an active plan\");_context6.next=82;break;case 81:window.alert(\"Please use referral link to buy a plan\");case 82:_context6.next=85;break;case 84:if(balanceSite<amount){window.alert(\"You do not have enough balance, you need: \"+amount+\" USDT and in your wallet you have: \"+balanceSite);}case 85:case\"end\":return _context6.stop();}}},_callee6,this);}));function deposit(){return _deposit.apply(this,arguments);}return deposit;}()},{key:\"render\",value:function render(){var _this4=this;var options=this.state.options;var segundoToken=/*#__PURE__*/React.createElement(React.Fragment,null);if(this.state.nameToken1!==this.state.nameToken2){segundoToken=/*#__PURE__*/React.createElement(React.Fragment,null,this.state.nameToken2,\": \",/*#__PURE__*/React.createElement(\"strong\",null,(this.state.balanceUSDT*1).toFixed(6)),/*#__PURE__*/React.createElement(\"br\",null));}return/*#__PURE__*/React.createElement(\"div\",{className:\"card wow bounceInUp text-center col-md-7\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"card-title\",id:\"contract\"},\"Contract V \",this.props.version),/*#__PURE__*/React.createElement(\"table\",{className:\"table borderless\"},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-check-circle-o text-success\"}),\"ROI \"),/*#__PURE__*/React.createElement(\"td\",null,this.state.porcentaje,\"%\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-check-circle-o text-success\"}),\"Earn\"),/*#__PURE__*/React.createElement(\"td\",null,this.state.porcentaje-100,\"%\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},\"Wallet\",/*#__PURE__*/React.createElement(\"p\",{className:\"card-text\"},/*#__PURE__*/React.createElement(\"strong\",null,this.state.accountAddress),/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(\"p\",{className:\"card-text \"},\"USDT: \",/*#__PURE__*/React.createElement(\"strong\",null,this.state.balanceSite),/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(\"h4\",null,\"Plan Staking\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group sm-3 text-center\"},/*#__PURE__*/React.createElement(Select,{options:options,onChange:this.handleChangeUSDT,className:\"form-control mb-20 h-auto\"})),/*#__PURE__*/React.createElement(\"p\",{className:\"card-text\"},\"At least 150 TRX to make any transactions\"),/*#__PURE__*/React.createElement(\"p\",{className:\"card-text\"},\"Partner:\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"strong\",null,this.state.partner)),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-lg btn-success\",onClick:function onClick(){return _this4.deposit();}},this.state.deposito))));}}]);return CrowdFunding;}(Component);export{CrowdFunding as default};","map":{"version":3,"sources":["/Users/miguelmerchan/Documents/GitHub/6-Leidy2/src/components/CrowdFunding/index.js"],"names":["React","Component","Select","cons","CrowdFunding","props","state","min","deposito","balance","accountAddress","porcentaje","dias","partner","balanceTRX","balanceUSDT","precioSITE","valueUSDT","hand","deposit","bind","estado","estado2","rateSITE","handleChangeUSDT","event","setState","value","window","ethereum","request","method","resultado","console","log","currentAccount","setInterval","wallet","contractBinary","methods","investors","call","from","inversors","options","datos","inicio","contractToken","allowance","contractAddress","aprovado","plansLength","top","index","plans","precio","active","parseInt","registered","label","substr","fin","texto","document","getElementById","innerHTML","version","href","symbol","nameToken1","tiempo","porcentiempo","Date","now","decimals","decimales","balanceOf","valorPlan","plan","WS","padre","loc","location","indexOf","getString","split","length","GET","get","i","l","tmp","unescape","decodeURI","idToAddress","porcent","balanceSite","approve","send","alert","amount","sponsor","reg","registro","then","withdrawable","userWithdrable","MIN_RETIRO","depositos","despositos","confirm","withdraw","buyPlan","scrollIntoView","block","behavior","segundoToken","nameToken2","toFixed"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Select from 'react-select'\n\nimport cons from \"../../cons.js\";\n\nexport default class CrowdFunding extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n\n      min: 100,\n      deposito: \"Loading...\",\n      balance: \"Loading...\",\n      accountAddress: \"Loading...\",\n      porcentaje: \"Loading...\",\n      dias: \"Loading...\",\n      partner: \"Loading...\",\n      balanceTRX: \"Loading...\",\n      balanceUSDT: \"Loading...\",\n      precioSITE: 1,\n      valueUSDT: 0,\n      hand: 0\n\n    };\n\n    this.deposit = this.deposit.bind(this);\n    this.estado = this.estado.bind(this);\n    this.estado2 = this.estado2.bind(this);\n\n    this.rateSITE = this.rateSITE.bind(this);\n    this.handleChangeUSDT = this.handleChangeUSDT.bind(this);\n  }\n\n  handleChangeUSDT(event) {\n    //console.log(event)\n    this.setState({valueUSDT: event.value});\n  }\n\n  async componentDidMount() {\n    if (typeof window.ethereum !== 'undefined') {           \n      var resultado = await window.ethereum.request({ method: 'eth_requestAccounts' });\n        console.log(resultado[0]);\n        this.setState({\n          currentAccount: resultado[0]\n        })\n\n    }\n    setInterval(async() => {\n      if (typeof window.ethereum !== 'undefined') {           \n        var resultado = await window.ethereum.request({ method: 'eth_requestAccounts' });\n          console.log(resultado[0]);\n          this.setState({\n            currentAccount: resultado[0]\n          })\n  \n      }\n\n    },3*1000);\n    this.estado();\n    setInterval(() => this.estado(),3*1000);\n    setInterval(() => this.estado2(),3*1000);\n    \n  };\n\n  async rateSITE(){\n    /*\n    var proxyUrl = cons.proxy;\n    var apiUrl = cons.PRE;\n    var response;\n\n    try {\n      response = await fetch(proxyUrl+apiUrl);\n    } catch (err) {\n      console.log(err);\n      return this.state.precioSITE;\n    }\n\n    var json = await response.json();\n\n    this.setState({\n      precioSITE: json.Data.precio\n    });\n\n    return json.Data.precio;*/\n\n    return 1;\n\n  };\n\n  async estado(){\n\n    //console.log(this.props.wallet);\n\n    var inversors = await this.props.wallet.contractBinary.methods.investors(this.state.currentAccount).call({from:this.state.currentAccount});\n\n    var options = [];\n\n    var datos = {};\n\n    inversors.inicio = 1000;\n\n    var aprovado = await this.props.wallet.contractToken.methods.allowance(this.state.currentAccount,this.props.contractAddress).call({from:this.state.currentAccount});\n    \n\n    if (aprovado > 0) {\n\n      var top = await this.props.wallet.contractBinary.methods.plansLength().call({from:this.state.currentAccount});\n\n      for (let index = 0; index < top; index++) {\n        var precio = await this.props.wallet.contractBinary.methods.plans(index).call({from:this.state.currentAccount});\n        var active = await this.props.wallet.contractBinary.methods.active(index).call({from:this.state.currentAccount});\n        precio = parseInt(precio)/10**18;\n        if( precio > 0 && active && inversors.registered){\n          datos = {};\n          datos.value = index;\n          datos.label = precio+' USDT';\n          options[index] = datos;\n\n        }\n        \n        \n      }\n    }\n\n    this.setState({\n      options: options\n    });\n\n  }\n\n  async estado2(){\n\n    var accountAddress =  this.state.currentAccount;\n    var inversors = await this.props.wallet.contractBinary.methods.investors(this.state.currentAccount).call({from:this.state.currentAccount});\n\n    var inicio = accountAddress.substr(0,4);\n    var fin = accountAddress.substr(-4);\n\n    var texto = inicio+\"...\"+fin;\n\n    document.getElementById(\"contract\").innerHTML = '<a href=\"https://bscscan.com/address/'+this.props.contractAddress+'\">Contract V '+this.props.version+'</a>';\n    document.getElementById(\"login\").href = `https://bscscan.com/address/${accountAddress}`;\n    document.getElementById(\"login-my-wallet\").innerHTML = texto;\n\n    var nameToken1 = await this.props.wallet.contractToken.methods.symbol().call({from:this.state.currentAccount});\n\n    //console.log(nameToken1);\n\n    var aprovado = await this.props.wallet.contractToken.methods.allowance(accountAddress,this.props.contractAddress).call({from:this.state.currentAccount});\n    //console.log(aprovado);\n\n    //console.log(aprovado);\n\n    if (aprovado > 0) {\n      if(!inversors.registered){\n        aprovado = \"Register\";\n      }else{\n        aprovado = \"Buy Plan\";\n      }\n      \n    }else{\n      aprovado = \"Allow wallet\";\n    }\n\n    inversors.inicio = 1000;\n    \n    var tiempo = await this.props.wallet.contractBinary.methods.tiempo().call({from:this.state.currentAccount});\n\n    tiempo = tiempo*1000;\n\n    var porcentiempo = ((Date.now()-inversors.inicio)*100)/tiempo;\n\n    var decimales = await this.props.wallet.contractToken.methods.decimals().call({from:this.state.currentAccount});\n\n    var balance = await this.props.wallet.contractToken.methods.balanceOf(this.state.currentAccount).call({from:this.state.currentAccount});\n\n    balance = balance/10**decimales;\n\n    var valorPlan = 0;\n\n    if( porcentiempo < 100 ){\n      aprovado = \"Update Plan\";\n\n      valorPlan = inversors.plan/10**8;\n      \n    }\n\n    var partner = cons.WS;\n\n    var hand = \"Left \";\n\n    if ( inversors.registered ) {\n      partner = await this.props.wallet.contractBinary.methods.padre(this.state.currentAccount).call({from:this.state.currentAccount});\n\n    }else{\n\n      var loc = document.location.href;\n      if(loc.indexOf('?')>0){\n          var getString = loc.split('?');\n          getString = getString[getString.length-1];\n          //console.log(getString);\n          var GET = getString.split('&');\n          var get = {};\n          for(var i = 0, l = GET.length; i < l; i++){\n              var tmp = GET[i].split('=');\n              get[tmp[0]] = unescape(decodeURI(tmp[1]));\n          }\n\n          if (get['hand']){\n            tmp = get['hand'].split('#');\n\n            //console.log(tmp);\n\n            if (tmp[0] === \"right\") {\n              hand = \"Rigth \";\n            }\n          }\n\n          if (get['ref']) {\n            tmp = get['ref'].split('#');\n\n            //console.log(tmp[0]);\n\n            var wallet = await this.props.wallet.contractBinary.methods.idToAddress(tmp[0]).call({from:this.state.currentAccount});\n\n            inversors = await this.props.wallet.contractBinary.methods.investors(wallet).call({from:this.state.currentAccount});\n\n            if ( inversors.registered ) {\n              partner = \"team \"+hand+\" of \"+wallet;\n            }\n          }\n\n          \n      }\n\n    }\n\n    if(partner === \"0x0000000000000000000000000000000000000000\"){\n      partner = \"---------------------------------\";\n    }\n    \n\n    var dias = 365;//await Utils.contract.tiempo().call();\n\n    //var velocidad = await Utils.contract.velocidad().call();\n\n    //dias = (parseInt(dias)/86400)*velocidad;\n\n    var porcentaje = await this.props.wallet.contractBinary.methods.porcent().call({from:this.state.currentAccount});\n\n    porcentaje = parseInt(porcentaje);\n\n    var decimals = await this.props.wallet.contractToken.methods.decimals().call({from:this.state.currentAccount});\n\n    var balanceUSDT = await this.props.wallet.contractToken.methods.balanceOf(this.state.currentAccount).call({from:this.state.currentAccount});\n\n    balanceUSDT = parseInt(balanceUSDT)/10**decimals;\n\n    this.setState({\n      deposito: aprovado,\n      balance: valorPlan,\n      decimales: decimales,\n      accountAddress: accountAddress,\n      porcentaje: porcentaje,\n      dias: dias,\n      partner: partner,\n      balanceSite: balance,\n      balanceUSDT: balanceUSDT,\n      nameToken1: nameToken1\n    });\n  }\n\n\n  async deposit() {\n\n    var { balanceSite, valueUSDT , balance} = this.state;\n\n    var accountAddress =  this.state.currentAccount;\n\n    var aprovado = await this.props.wallet.contractToken.methods.allowance(accountAddress,this.props.contractAddress).call({from:this.state.currentAccount});\n\n    if (aprovado <= 0 ){\n      await this.props.wallet.contractToken.methods.approve(this.props.contractAddress, \"115792089237316195423570985008687907853269984665640564039457584007913129639935\").send({from:this.state.currentAccount});\n      window.alert(\"Balance approval for exchange: successful\");\n      return;\n    }\n\n    var amount = await this.props.wallet.contractBinary.methods.plans(valueUSDT).call({from:this.state.currentAccount});\n    amount = amount/10**18;\n    amount = amount-balance;\n\n    if ( aprovado > 0 && \n      balanceSite >= amount \n      ){\n\n        var loc = document.location.href;\n        var sponsor = cons.WS;\n        var hand = 0;\n        var investors = await this.props.wallet.contractBinary.methods.investors(this.state.currentAccount).call({from:this.state.currentAccount});\n\n        if (investors.registered) {\n\n          sponsor = await this.props.wallet.contractBinary.methods.padre(this.state.currentAccount).call({from:this.state.currentAccount});\n\n        }else{\n\n          if(loc.indexOf('?')>0){\n            var getString = loc.split('?');\n            getString = getString[getString.length-1];\n            //console.log(getString);\n            var GET = getString.split('&');\n            var get = {};\n            for(var i = 0, l = GET.length; i < l; i++){\n                var tmp = GET[i].split('=');\n                get[tmp[0]] = unescape(decodeURI(tmp[1]));\n            }\n\n            if (get['hand']){\n              \n              tmp = get['hand'].split('#');\n  \n              if (tmp[0] === \"right\") {\n                hand = 1;\n              }\n            }\n\n            if (get['ref']) {\n              tmp = get['ref'].split('#');\n\n              var wallet = await this.props.wallet.contractBinary.methods.idToAddress(tmp[0]).call({from:this.state.currentAccount});\n\n              var padre = await this.props.wallet.contractBinary.methods.investors(wallet).call({from:this.state.currentAccount});\n\n              if ( padre.registered ) {\n                sponsor = wallet;\n              }\n            }\n\n          }\n          \n        }\n\n        if(!investors.registered){\n          var reg = this.props.wallet.contractBinary.methods.registro(sponsor, hand).send({from:this.state.currentAccount});\n          reg.then(() => window.alert(\"congratulation registration: successful\"));\n          return;\n        }\n\n        if(sponsor !== \"0x0000000000000000000000000000000000000000\" && investors.registered && await this.props.wallet.contractBinary.methods.active(valueUSDT).call({from:this.state.currentAccount}) ){\n        \n          var userWithdrable = await this.props.wallet.contractBinary.methods.withdrawable(this.state.currentAccount).call({from:this.state.currentAccount});\n          var MIN_RETIRO = await this.props.wallet.contractBinary.methods.MIN_RETIRO().call({from:this.state.currentAccount});\n\n          var despositos = await this.props.wallet.contractBinary.methods.depositos(this.state.currentAccount).call({from:this.state.currentAccount});\n\n  \n          if (userWithdrable/10**18 >= MIN_RETIRO/10**18 && despositos[0].length !== 0){\n            if(window.confirm(\"Realizar el retiro de su disponible, para continuar\")){\n              this.props.wallet.contractBinary.methods.withdraw().send({from:this.state.currentAccount})\n              .then(() => {\n                this.props.wallet.contractBinary.methods.buyPlan(valueUSDT).send({from:this.state.currentAccount})\n                .then(() => {\n                  window.alert(\"Felicidades inversi贸n exitosa\");\n                  document.getElementById(\"services\").scrollIntoView({block: \"start\", behavior: \"smooth\"});\n                })\n\n              })\n\n              \n            }else{\n              return;\n            }\n          \n          }else{\n              this.props.wallet.contractBinary.methods.buyPlan(valueUSDT).send({from:this.state.currentAccount})\n              .then(() => {\n                window.alert(\"Felicidades inversi贸n exitosa\");\n                document.getElementById(\"services\").scrollIntoView({block: \"start\", behavior: \"smooth\"})\n              });\n  \n          }\n          \n        }else{\n          if (await this.props.wallet.contractBinary.methods.active(valueUSDT).call({from:this.state.currentAccount}) === false) {\n            window.alert(\"Please select an active plan\");\n          } else {\n            window.alert(\"Please use referral link to buy a plan\");\n          }\n\n          \n        }\n          \n    }else{\n\n\n      if ( balanceSite < amount ) {\n\n        window.alert(\"You do not have enough balance, you need: \"+amount+\" USDT and in your wallet you have: \"+balanceSite);\n      }\n\n      \n    }\n\n\n  };\n\n  render() {\n\n    var {options} = this.state;\n\n    var segundoToken = <></>;\n\n    if (this.state.nameToken1 !== this.state.nameToken2) {\n      segundoToken = <>{this.state.nameToken2}: <strong>{(this.state.balanceUSDT*1).toFixed(6)}</strong><br /></> ;\n    }\n    \n    return (\n      <div className=\"card wow bounceInUp text-center col-md-7\" >\n        <div className=\"card-body\">\n          <h5 className=\"card-title\" id=\"contract\" >Contract V {this.props.version}</h5>\n\n          <table className=\"table borderless\">\n            <tbody>\n            <tr>\n              <td><i className=\"fa fa-check-circle-o text-success\"></i>ROI </td><td>{this.state.porcentaje}%</td>\n            </tr>\n            <tr>\n              <td><i className=\"fa fa-check-circle-o text-success\"></i>Earn</td><td>{(this.state.porcentaje)-100}%</td>\n            </tr>\n            </tbody>\n          </table>\n\n          <div className=\"form-group\">Wallet\n          <p className=\"card-text\">\n            <strong>{this.state.accountAddress}</strong><br />\n          </p>\n          <p className=\"card-text \">\n        \n            USDT: <strong>{this.state.balanceSite}</strong><br />\n\n          </p>\n\n          <h4>Plan Staking</h4>\n          <div className=\"input-group sm-3 text-center\">\n            <Select options={options}  onChange={this.handleChangeUSDT} className=\"form-control mb-20 h-auto\" />\n          </div>\n\n            <p className=\"card-text\">At least 150 TRX to make any transactions</p>\n            <p className=\"card-text\">Partner:<br />\n            <strong>{this.state.partner}</strong></p>\n\n            <button className=\"btn btn-lg btn-success\" onClick={() => this.deposit()}>{this.state.deposito}</button>\n\n          </div>\n\n        </div>\n      </div>\n\n\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}